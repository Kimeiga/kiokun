import{s as _t,d as N,n as et,i as K,r as Ot}from"../chunks/scheduler.5c9fb80c.js";import{S as gt,i as yt,d as B,v as vt,u as W,w as Y,x as Z,f as U,t as I,y as x,e as Q,a as b,r as bt,b as kt,g as _,j as C,k as S,z as M,m as wt,s as T,l as q,c as j,B as E,D as dt,A as J,F as Dt,o as D,p as A,q as G,C as V,E as $t}from"../chunks/index.d9c22dfb.js";import{c as nt,m as ot,S as tt,a as Nt,g as At}from"../chunks/SignedOut.e47d5c8b.js";import{D as ct,C as Ut}from"../chunks/Doc.8c0d5186.js";import{f as it}from"../chunks/firebase.40fb4f84.js";const H="C:/Users/hak7a/Github/kiokun2/src/routes/[word]/Note.svelte";function Ct(o){let t,e,c,a,n="Save",s,i,h="Cancel",u,r;const l={c:function(){t=C("form"),e=C("textarea"),c=T(),a=C("button"),a.textContent=n,s=T(),i=C("button"),i.textContent=h,this.h()},l:function(k){t=S(k,"FORM",{});var p=q(t);e=S(p,"TEXTAREA",{}),q(e).forEach(_),c=j(p),a=S(p,"BUTTON",{type:!0,"data-svelte-h":!0}),M(a)!=="svelte-1f2bxem"&&(a.textContent=n),s=j(p),i=S(p,"BUTTON",{"data-svelte-h":!0}),M(i)!=="svelte-m59hjt"&&(i.textContent=h),p.forEach(_),this.h()},h:function(){N(e,H,37,3,1064),wt(a,"type","submit"),N(a,H,38,3,1102),N(i,H,39,3,1142),N(t,H,36,2,985)},m:function(k,p){b(k,t,p),E(t,e),dt(e,o[2]),E(t,c),E(t,a),E(t,s),E(t,i),u||(r=[J(e,"input",o[5]),J(i,"click",function(){K(o[1]=!1)&&(o[1]=!1).apply(this,arguments)},!1,!1,!1,!1),J(t,"submit",Dt(function(){K(o[4](o[0].simp+o[0].pinyinTones))&&o[4](o[0].simp+o[0].pinyinTones).apply(this,arguments)}),!1,!0,!1,!1)],u=!0)},p:function(k,p){o=k,p&4&&dt(e,o[2])},i:et,o:et,d:function(k){k&&_(t),u=!1,Ot(r)}};return B("SvelteRegisterBlock",{block:l,id:Ct.name,type:"if",source:"(36:23) ",ctx:o}),l}function St(o){var h;let t,e=((h=o[6])==null?void 0:h.note)+"",c,a,n,s;n=new tt({props:{$$slots:{default:[Bt]},$$scope:{ctx:o}},$$inline:!0});const i={c:function(){t=C("p"),c=D(e),a=T(),W(n.$$.fragment),this.h()},l:function(r){t=S(r,"P",{});var l=q(t);c=A(l,e),l.forEach(_),a=j(r),Y(n.$$.fragment,r),this.h()},h:function(){N(t,H,31,2,815)},m:function(r,l){b(r,t,l),E(t,c),b(r,a,l),Z(n,r,l),s=!0},p:function(r,l){var k;(!s||l&64)&&e!==(e=((k=r[6])==null?void 0:k.note)+"")&&G(c,e);const f={};l&192&&(f.$$scope={dirty:l,ctx:r}),n.$set(f)},i:function(r){s||(U(n.$$.fragment,r),s=!0)},o:function(r){I(n.$$.fragment,r),s=!1},d:function(r){r&&(_(t),_(a)),x(n,r)}};return B("SvelteRegisterBlock",{block:i,id:St.name,type:"if",source:"(31:38) ",ctx:o}),i}function Et(o){let t,e;t=new tt({props:{$$slots:{default:[Rt]},$$scope:{ctx:o}},$$inline:!0});const c={c:function(){W(t.$$.fragment)},l:function(n){Y(t.$$.fragment,n)},m:function(n,s){Z(t,n,s),e=!0},p:function(n,s){const i={};s&192&&(i.$$scope={dirty:s,ctx:n}),t.$set(i)},i:function(n){e||(U(t.$$.fragment,n),e=!0)},o:function(n){I(t.$$.fragment,n),e=!1},d:function(n){x(t,n)}};return B("SvelteRegisterBlock",{block:c,id:Et.name,type:"if",source:"(27:1) {#if !editingNote && !data?.note}",ctx:o}),c}function Bt(o){var i;let t,e=(i=o[6])!=null&&i.note?"Edit Note":"Add Note",c,a,n;const s={c:function(){t=C("button"),c=D(e),this.h()},l:function(u){t=S(u,"BUTTON",{});var r=q(t);c=A(r,e),r.forEach(_),this.h()},h:function(){N(t,H,33,3,853)},m:function(u,r){b(u,t,r),E(t,c),a||(n=J(t,"click",function(){var l,f;K(o[3]((l=o[6])==null?void 0:l.note))&&o[3]((f=o[6])==null?void 0:f.note).apply(this,arguments)},!1,!1,!1,!1),a=!0)},p:function(u,r){var l;o=u,r&64&&e!==(e=(l=o[6])!=null&&l.note?"Edit Note":"Add Note")&&G(c,e)},d:function(u){u&&_(t),a=!1,n()}};return B("SvelteRegisterBlock",{block:s,id:Bt.name,type:"slot",source:"(33:2) <SignedIn>",ctx:o}),s}function Rt(o){let t,e="Add Note",c,a;const n={c:function(){t=C("button"),t.textContent=e,this.h()},l:function(i){t=S(i,"BUTTON",{"data-svelte-h":!0}),M(t)!=="svelte-ybpes5"&&(t.textContent=e),this.h()},h:function(){N(t,H,28,3,699)},m:function(i,h){b(i,t,h),c||(a=J(t,"click",function(){var u,r;K(o[3]((u=o[6])==null?void 0:u.note))&&o[3]((r=o[6])==null?void 0:r.note).apply(this,arguments)},!1,!1,!1,!1),c=!0)},p:function(i,h){o=i},d:function(i){i&&_(t),c=!1,a()}};return B("SvelteRegisterBlock",{block:n,id:Rt.name,type:"slot",source:"(28:2) <SignedIn>",ctx:o}),n}function Pt(o){let t,e,c,a;const n=[Et,St,Ct],s=[];function i(u,r){var l,f;return!u[1]&&!((l=u[6])!=null&&l.note)?0:!u[1]&&((f=u[6])!=null&&f.note)?1:u[1]?2:-1}~(t=i(o))&&(e=s[t]=n[t](o));const h={c:function(){e&&e.c(),c=Q()},l:function(r){e&&e.l(r),c=Q()},m:function(r,l){~t&&s[t].m(r,l),b(r,c,l),a=!0},p:function(r,l){let f=t;t=i(r),t===f?~t&&s[t].p(r,l):(e&&(bt(),I(s[f],1,1,()=>{s[f]=null}),kt()),~t?(e=s[t],e?e.p(r,l):(e=s[t]=n[t](r),e.c()),U(e,1),e.m(c.parentNode,c)):e=null)},i:function(r){a||(U(e),a=!0)},o:function(r){I(e),a=!1},d:function(r){r&&_(c),~t&&s[t].d(r)}};return B("SvelteRegisterBlock",{block:h,id:Pt.name,type:"slot",source:"(26:0) <Doc ref={`words/${entry.simp}${entry.pinyinTones}`} let:data>",ctx:o}),h}function Tt(o){let t,e="Loading...";const c={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(n){t=S(n,"P",{slot:!0,"data-svelte-h":!0}),M(t)!=="svelte-1a37fzt"&&(t.textContent=e),this.h()},h:function(){wt(t,"slot","loading"),N(t,H,43,1,1222)},m:function(n,s){b(n,t,s)},p:et,d:function(n){n&&_(t)}};return B("SvelteRegisterBlock",{block:c,id:Tt.name,type:"slot",source:"(44:1) ",ctx:o}),c}function st(o){let t,e;t=new ct({props:{ref:`words/${o[0].simp}${o[0].pinyinTones}`,$$slots:{loading:[Tt],default:[Pt,({data:a})=>({6:a}),({data:a})=>a?64:0]},$$scope:{ctx:o}},$$inline:!0});const c={c:function(){W(t.$$.fragment)},l:function(n){Y(t.$$.fragment,n)},m:function(n,s){Z(t,n,s),e=!0},p:function(n,[s]){const i={};s&1&&(i.ref=`words/${n[0].simp}${n[0].pinyinTones}`),s&199&&(i.$$scope={dirty:s,ctx:n}),t.$set(i)},i:function(n){e||(U(t.$$.fragment,n),e=!0)},o:function(n){I(t.$$.fragment,n),e=!1},d:function(n){x(t,n)}};return B("SvelteRegisterBlock",{block:c,id:st.name,type:"component",source:"",ctx:o}),c}function Ht(o,t,e){let{$$slots:c={},$$scope:a}=t;vt("Note",c,[]);let{entry:n}=t,s=!1,i="";function h(f){e(1,s=!0),e(2,i=f)}async function u(f){e(1,s=!1),await ot(nt(it,"words",f),{note:i})}o.$$.on_mount.push(function(){n===void 0&&!("entry"in t||o.$$.bound[o.$$.props.entry])&&console.warn("<Note> was created without expected prop 'entry'")});const r=["entry"];Object.keys(t).forEach(f=>{!~r.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<Note> was created with unknown prop '${f}'`)});function l(){i=this.value,e(2,i)}return o.$$set=f=>{"entry"in f&&e(0,n=f.entry)},o.$capture_state=()=>({entry:n,doc:nt,setDoc:ot,SignedIn:tt,SignedOut:Nt,Doc:ct,firestore:it,editingNote:s,newNote:i,editNote:h,saveNote:u}),o.$inject_state=f=>{"entry"in f&&e(0,n=f.entry),"editingNote"in f&&e(1,s=f.editingNote),"newNote"in f&&e(2,i=f.newNote)},t&&"$$inject"in t&&o.$inject_state(t.$$inject),[n,s,i,h,u,l]}class jt extends gt{constructor(t){super(t),yt(this,t,Ht,st,_t,{entry:0}),B("SvelteRegisterComponent",{component:this,tagName:"Note",options:t,id:st.name})}get entry(){throw new Error("<Note>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set entry(t){throw new Error("<Note>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:mt}=At,F="C:/Users/hak7a/Github/kiokun2/src/routes/[word]/+page.svelte";function ht(o,t,e){const c=o.slice();return c[1]=t[e],c}function pt(o,t,e){const c=o.slice();return c[4]=t[e],c}function lt(o){let t,e=o[4]+"",c;const a={c:function(){t=C("p"),c=D(e),this.h()},l:function(s){t=S(s,"P",{});var i=q(t);c=A(i,e),i.forEach(_),this.h()},h:function(){N(t,F,58,2,1461)},m:function(s,i){b(s,t,i),E(t,c)},p:function(s,i){i&1&&e!==(e=s[4]+"")&&G(c,e)},d:function(s){s&&_(t)}};return B("SvelteRegisterBlock",{block:a,id:lt.name,type:"each",source:"(58:1) {#each entry.definitions as definition}",ctx:o}),a}function at(o){let t,e=o[1].simp+"",c,a,n=o[1].trad+"",s,i,h,u,r,l,f=o[1].pinyin+"",k,p,m,y="Definitions",g,O,X,z;u=new jt({props:{entry:o[1]},$$inline:!0});let L=V(o[1].definitions),w=[];for(let R=0;R<L.length;R+=1)w[R]=lt(pt(o,L,R));const ut={c:function(){t=C("h2"),c=D(e),a=D(" ("),s=D(n),i=D(")"),h=T(),W(u.$$.fragment),r=T(),l=C("p"),k=D(f),p=T(),m=C("h3"),m.textContent=y,g=T();for(let d=0;d<w.length;d+=1)w[d].c();O=T(),X=C("hr"),this.h()},l:function(d){t=S(d,"H2",{});var v=q(t);c=A(v,e),a=A(v," ("),s=A(v,n),i=A(v,")"),v.forEach(_),h=j(d),Y(u.$$.fragment,d),r=j(d),l=S(d,"P",{});var P=q(l);k=A(P,f),P.forEach(_),p=j(d),m=S(d,"H3",{"data-svelte-h":!0}),M(m)!=="svelte-1akifgs"&&(m.textContent=y),g=j(d);for(let $=0;$<w.length;$+=1)w[$].l(d);O=j(d),X=S(d,"HR",{}),this.h()},h:function(){N(t,F,31,1,703),N(l,F,53,1,1367),N(m,F,55,1,1393),N(X,F,61,1,1495)},m:function(d,v){b(d,t,v),E(t,c),E(t,a),E(t,s),E(t,i),b(d,h,v),Z(u,d,v),b(d,r,v),b(d,l,v),E(l,k),b(d,p,v),b(d,m,v),b(d,g,v);for(let P=0;P<w.length;P+=1)w[P]&&w[P].m(d,v);b(d,O,v),b(d,X,v),z=!0},p:function(d,v){(!z||v&1)&&e!==(e=d[1].simp+"")&&G(c,e),(!z||v&1)&&n!==(n=d[1].trad+"")&&G(s,n);const P={};if(v&1&&(P.entry=d[1]),u.$set(P),(!z||v&1)&&f!==(f=d[1].pinyin+"")&&G(k,f),v&1){L=V(d[1].definitions);let $;for($=0;$<L.length;$+=1){const ft=pt(d,L,$);w[$]?w[$].p(ft,v):(w[$]=lt(ft),w[$].c(),w[$].m(O.parentNode,O))}for(;$<w.length;$+=1)w[$].d(1);w.length=L.length}},i:function(d){z||(U(u.$$.fragment,d),z=!0)},o:function(d){I(u.$$.fragment,d),z=!1},d:function(d){d&&(_(t),_(h),_(r),_(l),_(p),_(m),_(g),_(O),_(X)),x(u,d),$t(w,d)}};return B("SvelteRegisterBlock",{block:ut,id:at.name,type:"each",source:"(31:0) {#each data.entry as entry}",ctx:o}),ut}function rt(o){let t,e=o[0].word+"",c,a,n,s="Entries",i,h,u,r=V(o[0].entry),l=[];for(let p=0;p<r.length;p+=1)l[p]=at(ht(o,r,p));const f=p=>I(l[p],1,1,()=>{l[p]=null}),k={c:function(){t=C("h1"),c=D(e),a=T(),n=C("h2"),n.textContent=s,i=T();for(let m=0;m<l.length;m+=1)l[m].c();h=Q(),this.h()},l:function(m){t=S(m,"H1",{});var y=q(t);c=A(y,e),y.forEach(_),a=j(m),n=S(m,"H2",{"data-svelte-h":!0}),M(n)!=="svelte-3bao4m"&&(n.textContent=s),i=j(m);for(let g=0;g<l.length;g+=1)l[g].l(m);h=Q(),this.h()},h:function(){N(t,F,27,0,631),N(n,F,29,0,655)},m:function(m,y){b(m,t,y),E(t,c),b(m,a,y),b(m,n,y),b(m,i,y);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(m,y);b(m,h,y),u=!0},p:function(m,[y]){if((!u||y&1)&&e!==(e=m[0].word+"")&&G(c,e),y&1){r=V(m[0].entry);let g;for(g=0;g<r.length;g+=1){const O=ht(m,r,g);l[g]?(l[g].p(O,y),U(l[g],1)):(l[g]=at(O),l[g].c(),U(l[g],1),l[g].m(h.parentNode,h))}for(bt(),g=r.length;g<l.length;g+=1)f(g);kt()}},i:function(m){if(!u){for(let y=0;y<r.length;y+=1)U(l[y]);u=!0}},o:function(m){l=l.filter(Boolean);for(let y=0;y<l.length;y+=1)I(l[y]);u=!1},d:function(m){m&&(_(t),_(a),_(n),_(i),_(h)),$t(l,m)}};return B("SvelteRegisterBlock",{block:k,id:rt.name,type:"component",source:"",ctx:o}),k}function It(o,t,e){let{$$slots:c={},$$scope:a}=t;vt("Page",c,[]);let{data:n}=t;console.log(n),o.$$.on_mount.push(function(){n===void 0&&!("data"in t||o.$$.bound[o.$$.props.data])&&mt.warn("<Page> was created without expected prop 'data'")});const s=["data"];return Object.keys(t).forEach(i=>{!~s.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&mt.warn(`<Page> was created with unknown prop '${i}'`)}),o.$$set=i=>{"data"in i&&e(0,n=i.data)},o.$capture_state=()=>({data:n,doc:nt,setDoc:ot,SignedIn:tt,SignedOut:Nt,Doc:ct,Collection:Ut,firestore:it,Note:jt}),o.$inject_state=i=>{"data"in i&&e(0,n=i.data)},t&&"$$inject"in t&&o.$inject_state(t.$$inject),[n]}class Mt extends gt{constructor(t){super(t),yt(this,t,It,rt,_t,{data:0}),B("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:rt.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Mt as component};
