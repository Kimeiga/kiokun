import{s as W,d as y,n as L,r as K}from"../chunks/scheduler.5c9fb80c.js";import{S as M,i as Q,d as G,C as R,v as Z,j as b,s as E,k as P,c as j,z as x,l as w,g as p,m as D,a as g,D as U,A as X,E as V,o as I,p as O,B as S,q as B}from"../chunks/index.d9c22dfb.js";import{G as Y,b as $,S as ee,a as te,g as ne}from"../chunks/SignedOut.e47d5c8b.js";import{D as ie,C as le}from"../chunks/Doc.8c0d5186.js";const{console:ae}=ne,C="C:/Users/hak7a/Github/kiokun2/src/routes/+page.svelte";function F(a,n,s){const c=a.slice();return c[5]=n[s],c}function H(a,n,s){const c=a.slice();return c[8]=n[s],c}function T(a){let n,s=a[8].pinyinPretty+"",c,v,d,o=a[8].english+"",h;const _={c:function(){n=b("p"),c=I(s),v=E(),d=b("p"),h=I(o),this.h()},l:function(r){n=P(r,"P",{});var l=w(n);c=O(l,s),l.forEach(p),v=j(r),d=P(r,"P",{});var i=w(d);h=O(i,o),i.forEach(p),this.h()},h:function(){y(n,C,46,5,1322),y(d,C,47,5,1355)},m:function(r,l){g(r,n,l),S(n,c),g(r,v,l),g(r,d,l),S(d,h)},p:function(r,l){l&1&&s!==(s=r[8].pinyinPretty+"")&&B(c,s),l&1&&o!==(o=r[8].english+"")&&B(h,o)},d:function(r){r&&(p(n),p(v),p(d))}};return G("SvelteRegisterBlock",{block:_,id:T.name,type:"each",source:"(46:4) {#each token.matches as match}",ctx:a}),_}function A(a){let n,s,c,v=a[5].simplified+"",d,o=a[5].simplified!=a[5].traditional?"/"+a[5].traditional:"",h,_,m,r,l=R(a[5].matches),i=[];for(let u=0;u<l.length;u+=1)i[u]=T(H(a,l,u));const z={c:function(){n=b("a"),s=b("fieldset"),c=b("legend"),d=I(v),h=I(o),_=E();for(let e=0;e<i.length;e+=1)i[e].c();m=E(),this.h()},l:function(e){n=P(e,"A",{href:!0,class:!0});var f=w(n);s=P(f,"FIELDSET",{});var t=w(s);c=P(t,"LEGEND",{});var k=w(c);d=O(k,v),h=O(k,o),k.forEach(p),_=j(t);for(let N=0;N<i.length;N+=1)i[N].l(t);t.forEach(p),m=j(f),f.forEach(p),this.h()},h:function(){y(c,C,42,4,1165),y(s,C,41,3,1150),D(n,"href",r=a[5].simplified),D(n,"class","token-link s-y_bCXRrkrYfP"),y(n,C,40,2,1100)},m:function(e,f){g(e,n,f),S(n,s),S(s,c),S(c,d),S(c,h),S(s,_);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(s,null);S(n,m)},p:function(e,f){if(f&1&&v!==(v=e[5].simplified+"")&&B(d,v),f&1&&o!==(o=e[5].simplified!=e[5].traditional?"/"+e[5].traditional:"")&&B(h,o),f&1){l=R(e[5].matches);let t;for(t=0;t<l.length;t+=1){const k=H(e,l,t);i[t]?i[t].p(k,f):(i[t]=T(k),i[t].c(),i[t].m(s,null))}for(;t<i.length;t+=1)i[t].d(1);i.length=l.length}f&1&&r!==(r=e[5].simplified)&&D(n,"href",r)},d:function(e){e&&p(n),V(i,e)}};return G("SvelteRegisterBlock",{block:z,id:A.name,type:"each",source:"(40:1) {#each tokenized as token}",ctx:a}),z}function q(a){let n,s,c,v="input chinese sentence",d,o,h,_,m,r,l=R(a[0]),i=[];for(let u=0;u<l.length;u+=1)i[u]=A(F(a,l,u));const z={c:function(){n=b("hr"),s=E(),c=b("p"),c.textContent=v,d=E(),o=b("input"),h=E(),_=b("div");for(let e=0;e<i.length;e+=1)i[e].c();this.h()},l:function(e){n=P(e,"HR",{}),s=j(e),c=P(e,"P",{"data-svelte-h":!0}),x(c)!=="svelte-1vxxjh4"&&(c.textContent=v),d=j(e),o=P(e,"INPUT",{type:!0}),h=j(e),_=P(e,"DIV",{class:!0});var f=w(_);for(let t=0;t<i.length;t+=1)i[t].l(f);f.forEach(p),this.h()},h:function(){y(n,C,33,0,871),y(c,C,35,0,909),D(o,"type","text"),y(o,C,36,0,939),D(_,"class","token-grid s-y_bCXRrkrYfP"),y(_,C,38,0,1045)},m:function(e,f){g(e,n,f),g(e,s,f),g(e,c,f),g(e,d,f),g(e,o,f),U(o,a[1]),g(e,h,f),g(e,_,f);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(_,null);m||(r=[X(o,"input",a[3]),X(o,"input",a[2],!1,!1,!1,!1)],m=!0)},p:function(e,[f]){if(f&2&&o.value!==e[1]&&U(o,e[1]),f&1){l=R(e[0]);let t;for(t=0;t<l.length;t+=1){const k=F(e,l,t);i[t]?i[t].p(k,f):(i[t]=A(k),i[t].c(),i[t].m(_,null))}for(;t<i.length;t+=1)i[t].d(1);i.length=l.length}},i:L,o:L,d:function(e){e&&(p(n),p(s),p(c),p(d),p(o),p(h),p(_)),V(i,e),m=!1,K(r)}};return G("SvelteRegisterBlock",{block:z,id:q.name,type:"component",source:"",ctx:a}),z}async function J(a){return(await(await fetch("/tokenize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sentence:a})})).json()).tokenized}function se(a,n,s){let{$$slots:c={},$$scope:v}=n;Z("Page",c,[]);const d=new Y;let o="",h=[];async function _(){s(0,h=await J(o))}const m=[];Object.keys(n).forEach(l=>{!~m.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&ae.warn(`<Page> was created with unknown prop '${l}'`)});function r(){o=this.value,s(1,o)}return a.$capture_state=()=>({signInWithPopup:$,GoogleAuthProvider:Y,SignedIn:ee,SignedOut:te,Doc:ie,Collection:le,provider:d,tokenizeChineseSentence:J,sentence:o,tokenized:h,handleInput:_}),a.$inject_state=l=>{"sentence"in l&&s(1,o=l.sentence),"tokenized"in l&&s(0,h=l.tokenized)},n&&"$$inject"in n&&a.$inject_state(n.$$inject),a.$$.update=()=>{a.$$.dirty&1&&console.log(h)},[h,o,_,r]}class ue extends M{constructor(n){super(n),Q(this,n,se,q,W,{}),G("SvelteRegisterComponent",{component:this,tagName:"Page",options:n,id:q.name})}}export{ue as component};
